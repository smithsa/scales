(()=>{var n,t={903:n=>{var t=function(){var n=["A","Bb","B","C","C#","D","Eb","E","F","F#","G","G#"],t={major:[1,1,.5,1,1,1,.5],minor:[1,.5,1,1,.5,1,1],dorian:[1,.5,1,1,1,.5,1],mixolydian:[1,1,.5,1,1,.5,1],"major pentatonic":[1,1,1.5,1,1.5],"minor pentatonic":[1.5,1,1,1.5,1],blues:[1.5,1,.5,.5,1.5,1]};function e(t,r,o,a){var u=r.length;if(a.length===u)return a;var i=function(t,e){var r=n.indexOf(t)+e,o=n.length-1;return r>o&&(r=r-o-1),n[r]}(t,r[o]/.5);a.push(i),e(t=i,r,o+1,a)}return{getScale:function(n,r){var o=function(n){return t[n]}(r),a=function(n,t){var r=[];return e(n,t,0,r),r.unshift(n),r}(n,o);return a}}}();n.exports=t},814:(n,t,e)=>{var r=e(549),o=e(903),a=function(){var n=null,t=null,e=null,a=null,u=null,i=null,c=null,s=0,l=["A","B","C","D","E","F","G"];function p(n,t,e){var l,f,v,m,g,d;function T(n){return n<=9?"0"+n:n}l=document.getElementById(n),f=+new Date+1e3*(60*t+e)+500,function $(){if((g=f-+new Date)<1e3){l.innerHTML="Time Up!";var b=o.getScale(i,c);1==s?r.arpeggiate(b,!0):r.arpeggiate(b);var w=1e3*r.getScaleDuration();console.log(r.getScaleDuration()),u=setTimeout((function(){h(),setTimeout(p(n,t,e),2e3)}),w)}else d=new Date(g),v=d.getUTCHours(),m=d.getUTCMinutes(),l.innerHTML=(v?v+":"+T(m):m)+":"+T(d.getUTCSeconds()),a=setTimeout($,d.getUTCMilliseconds()+500)}()}function f(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function h(){var e=l[f(0,l.length-1)],r=n[f(0,n.length-1)],o=(f(1,6),function(n,t){var e=n,r="";"B"===t||"E"===t?r="sharps":"C"!==t&&"F"!==t||(r="flats");var o=e.indexOf(r);return o>=0&&e.splice(o,1),e}(t,e)),a=o[f(0,t.length-1)];"flats"===a?e+=" Flat":"naturals"===a?e=e:"sharps"===a&&(e+="#"),$("#key").text(e),$("#scale").text(r),i=function(n){n=n.replace(" Flat","b");var t={"A#":"Bb",Db:"C#","D#":"Eb",Gb:"F#",Ab:"G#"};return t.hasOwnProperty(n)&&(n=t[n]),n}(e),c=r}return{init:function(){$("#bpm").select2(),$("#start").click((function(){e=parseInt($("#seconds").val()),t=function(){var n=[];return $("input.input-keys").each((function(){$(this).is(":checked")&&n.push($(this).val())})),n}(),n=function(){var n=[];return $("input.input-scales").each((function(){$(this).is(":checked")&&n.push($(this).val())})),n}(),f(1,6),h(),$("#start").hide(),$("#stop").show(),$("#count").show(),$(".controls h3").show(),p("count",0,e)})),$("#stop, #c-button--slide-right").click((function(){clearTimeout(a),$("#key").text("Key"),$("#scale").text("Scale"),$("#count").hide(),$("#stop").hide(),$("#start").show(),clearTimeout(u),r.stop()})),$(".input-number-decrement").click((function(){var n=parseInt($(".input-number").val());n>0&&$(".input-number").val(n-1)})),$(".input-number-increment").click((function(){var n=parseInt($(".input-number").val());n<120&&$(".input-number").val(n+1)})),$("input[name='octave_num']").click((function(){s=parseInt($("input[name='octave_num']:checked").val())})),$("#bpm").change((function(){r.changeTempo($(this).val())})),document.addEventListener("mousedown",(function(){"running"!==Tone.context.state&&Tone.context.resume()}),{once:!0})}}}();n.exports=a},549:n=>{var t=function(){var n={default:new Tone.Synth,mono:new Tone.MonoSynth,pluck:new Tone.PluckSynth,fm:new Tone.FMSynth},t=n.fm.toMaster(),e=["C","D","E","F","G","A","B"],r=0,o=120;function a(n,t){return n+t.toString()}return{currentSynth:t,arpeggiate:function(n,u=!1){(u=void 0!==u&&u)&&(octave_one=n,octave_two=n.slice(),octave_two.shift(),n=octave_one.concat(octave_two)),n=function(n,t){for(var r=[],o=n.length,u=e.indexOf(n[0][0]),i=0;i<o;i++){var c=e.indexOf(n[i][0]);n[0]===n[i]&&0!=i?(r.push(a(n[i],t+1)),t+=1):c<u?r.push(a(n[i],t+1)):r.push(a(n[i],t))}return r}(n,2),console.log(n);var i=60/o,c=n.length,s=new Tone.Pattern((function(n,e){t.triggerAttackRelease(e,i)}),n),l=r=i*c;s.iterations=c,s.start(.5),Tone.Transport.start(),Tone.Transport.scheduleOnce((function(n){Tone.Transport.stop()}),l)},getScaleDuration:function(){return r},changeTempo:function(n){o=parseInt(n),Tone.Transport.bpm.rampTo(parseInt(n))},setSynth:function(e){t=n[e].toMaster()},getSynth:function(){return t},stop:function(){Tone.Transport.stop()}}}();n.exports=t}},e={};n=function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}(814),$(document).ready((function(){n.init();var t=new Menu({wrapper:"#o-wrapper",type:"slide-right",menuOpenerClass:".c-button",maskId:"#c-mask"});document.querySelector("#c-button--slide-right").addEventListener("click",(function(n){n.preventDefault,t.open()}))}))})();
//# sourceMappingURL=bundle.js.map