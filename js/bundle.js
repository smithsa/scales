!function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){var r=e(2),o=e(1),u=function(){var n=null,t=null,e=null,u=null,i=null,a=null,c=null,s=0,l=["A","B","C","D","E","F","G"];function p(n,t,e){var l,f,v,m,d,g;function T(n){return n<=9?"0"+n:n}l=document.getElementById(n),f=+new Date+1e3*(60*t+e)+500,function $(){if((d=f-+new Date)<1e3){l.innerHTML="Time Up!";var b=o.getScale(a,c);1==s?r.arpeggiate(b,!0):r.arpeggiate(b);var w=1e3*r.getScaleDuration();console.log(r.getScaleDuration()),i=setTimeout((function(){h(),setTimeout(p(n,t,e),2e3)}),w)}else g=new Date(d),v=g.getUTCHours(),m=g.getUTCMinutes(),l.innerHTML=(v?v+":"+T(m):m)+":"+T(g.getUTCSeconds()),u=setTimeout($,g.getUTCMilliseconds()+500)}()}function f(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function h(){var e=l[f(0,l.length-1)],r=n[f(0,n.length-1)],o=(f(1,6),function(n,t){var e=n,r="";"B"===t||"E"===t?r="sharps":"C"!==t&&"F"!==t||(r="flats");var o=e.indexOf(r);return o>=0&&e.splice(o,1),e}(t,e)),u=o[f(0,t.length-1)];"flats"===u?e+=" Flat":"naturals"===u?e=e:"sharps"===u&&(e+="#"),$("#key").text(e),$("#scale").text(r),a=function(n){n=n.replace(" Flat","b");var t={"A#":"Bb",Db:"C#","D#":"Eb",Gb:"F#",Ab:"G#"};return t.hasOwnProperty(n)&&(n=t[n]),n}(e),c=r}return{init:function(){$("#bpm").select2(),$("#start").click((function(){e=parseInt($("#seconds").val()),t=function(){var n=[];return $("input.input-keys").each((function(){$(this).is(":checked")&&n.push($(this).val())})),n}(),n=function(){var n=[];return $("input.input-scales").each((function(){$(this).is(":checked")&&n.push($(this).val())})),n}(),f(1,6),h(),$("#start").hide(),$("#stop").show(),$("#count").show(),$(".controls h3").show(),p("count",0,e)})),$("#stop, #c-button--slide-right").click((function(){clearTimeout(u),$("#key").text("Key"),$("#scale").text("Scale"),$("#count").hide(),$("#stop").hide(),$("#start").show(),clearTimeout(i),r.stop()})),$(".input-number-decrement").click((function(){var n=parseInt($(".input-number").val());n>0&&$(".input-number").val(n-1)})),$(".input-number-increment").click((function(){var n=parseInt($(".input-number").val());n<120&&$(".input-number").val(n+1)})),$("input[name='octave_num']").click((function(){s=parseInt($("input[name='octave_num']:checked").val())})),$("#bpm").change((function(){r.changeTempo($(this).val())})),document.addEventListener("mousedown",(function(){"running"!==Tone.context.state&&Tone.context.resume()}),{once:!0})}}}();n.exports=u},function(n,t){var e=function(){var n=["A","Bb","B","C","C#","D","Eb","E","F","F#","G","G#"],t={major:[1,1,.5,1,1,1,.5],minor:[1,.5,1,1,.5,1,1],dorian:[1,.5,1,1,1,.5,1],mixolydian:[1,1,.5,1,1,.5,1],"major pentatonic":[1,1,1.5,1,1.5],"minor pentatonic":[1.5,1,1,1.5,1],blues:[1.5,1,.5,.5,1.5,1]};function e(t,r,o,u){var i=r.length;if(u.length===i)return u;var a=function(t,e){var r=n.indexOf(t)+e,o=n.length-1;return r>o&&(r=r-o-1),n[r]}(t,r[o]/.5);u.push(a),e(t=a,r,o+1,u)}return{getScale:function(n,r){var o=function(n){return t[n]}(r),u=function(n,t){var r=[];return e(n,t,0,r),r.unshift(n),r}(n,o);return u}}}();n.exports=e},function(n,t){var e=function(){var n={default:new Tone.Synth,mono:new Tone.MonoSynth,pluck:new Tone.PluckSynth,fm:new Tone.FMSynth},t=n.fm.toMaster(),e=["C","D","E","F","G","A","B"],r=0,o=120;function u(n,t){return n+t.toString()}return{currentSynth:t,arpeggiate:function(n,i=!1){(i=void 0!==i&&i)&&(octave_one=n,octave_two=n.slice(),octave_two.shift(),n=octave_one.concat(octave_two)),n=function(n,t){for(var r=[],o=n.length,i=e.indexOf(n[0][0]),a=0;a<o;a++){var c=e.indexOf(n[a][0]);n[0]===n[a]&&0!=a?(r.push(u(n[a],t+1)),t+=1):c<i?r.push(u(n[a],t+1)):r.push(u(n[a],t))}return r}(n,2),console.log(n);var a=60/o,c=n.length,s=new Tone.Pattern((function(n,e){t.triggerAttackRelease(e,a)}),n),l=r=a*c;s.iterations=c,s.start(.5),Tone.Transport.start(),Tone.Transport.scheduleOnce((function(n){Tone.Transport.stop()}),l)},getScaleDuration:function(){return r},changeTempo:function(n){o=parseInt(n),Tone.Transport.bpm.rampTo(parseInt(n))},setSynth:function(e){t=n[e].toMaster()},getSynth:function(){return t},stop:function(){Tone.Transport.stop()}}}();n.exports=e},function(n,t,e){var r=e(0);$(document).ready((function(){r.init();var n=new Menu({wrapper:"#o-wrapper",type:"slide-right",menuOpenerClass:".c-button",maskId:"#c-mask"});document.querySelector("#c-button--slide-right").addEventListener("click",(function(t){t.preventDefault,n.open()}))}))}]);